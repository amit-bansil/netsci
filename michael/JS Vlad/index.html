<html>
<head>
  <title>Grammatica</title>
  <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
</head>

<body>
 <h1>Welcome to Grammatica!</h1>
 <h3 id="case"></h3>
 <h3 id="number"></h3>
 <h3 id="prompt"></h3>
 <input type="text" id="userInput"><br>
 <input type="button" value="Enter" id="enter">

<script type="text/javascript">
var cases = ['Nominative', 'Genetive', 'Dative', 'Accusative', 'Ablative']
var numbers = ['Singular', 'Plural'];
var nouns = ['domus', 'unus', 'animus'];
// save current declension in a var
// var declension = ...
$("#case").html(cases[Math.floor(Math.random()*5)]);
$("#number").html(numbers[Math.floor(Math.random()*2)]);
$("#prompt").html(nouns[Math.floor(Math.random()*3)]);

var prompt = $("#prompt").text();
var whichNumber = $("#number").text();
var whichCase = $("#case").text();
    //var stem = stem(indata);
var stem = stem(prompt);
// console.log(stem);
$("#enter").click(function() {
    if ($("#userInput").val() == decline(prompt, whichCase, whichNumber, 1)) {
        alert("Correct!");
    } else {
        alert("Wrong!");
    }
});

function decline(noun, whichCase, whichNumber, declension){
    if (declension == 1) {
        if (whichNumber = 'Singular') {
            if (whichCase == 'Nominative') {
                return stem(noun, 1) + 'us';
            } 
            else if (whichCase == 'Genetive') {
                return stem(noun, 1) + 'i';
            } 
            else if (whichCase == 'Dative') {
                return stem(noun, 1) + 'o';
            }
            else if (whichCase == 'Accusative') {
                return stem(noun, 1) + 'um';
            }
            else if (whichCase == 'Ablative') {
                return stem(noun, 1) + 'o';
            }
        }
        else if (whichNumber = 'Plural') {
            if (whichCase == 'Nominative') {
                return stem(noun, 1) + 'i';
            } 
            else if (whichCase == 'Genetive') {
                return stem(noun, 1) + 'orum';
            } 
            else if (whichCase == 'Dative') {
                return stem(noun, 1) + 'is';
            }
            else if (whichCase == 'Accusative') {
                return stem(noun, 1) + 'os';
            }
            else if (whichCase == 'Ablative') {
                return stem(noun, 1) + 'is';
            }
        }
    }
};

function stem(noun, declension){
    if (declension == 1) {
        return noun.substring(0,noun.lastIndexOf("us"));
    }
};
</script>
</body>
</html>